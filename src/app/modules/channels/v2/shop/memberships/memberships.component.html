<div class="m-channelShop__memberships">
  <div class="m-channelShopMemberships__header">
    <div class="m-channelShopMemberships__title">
      <h2 i18n="@@CHANNELS_SHOP_MEMBERSHIPS_TITLE">Memberships</h2>

      <ng-container
        *ngIf="channel.isOwner$ | async; else consumerTitleHeadline"
      >
        <div>
          <a i18n="@@CHANNELS_SHOP_MEMBERSHIPS_PUBLISH_TIERS">Publish Tiers</a>
          <ng-container i18n="@@CHANNELS_SHOP_MEMBERSHIPS_PUBLISH_TIERS_DRAFT"
            >(Draft)</ng-container
          >
        </div>
      </ng-container>

      <ng-template #consumerTitleHeadline>
        <div>
          &mdash;
          <ng-container i18n="@@CHANNELS_SHOP_MEMBERSHIPS_TITLE_HEADLINE"
            >Access exclusive content through a monthly
            contribution</ng-container
          >
        </div>
      </ng-template>
    </div>

    <ng-container *ngIf="channel.isOwner$ | async; else consumerHeader">
      <div class="m-channelShopMemberships__newSupportTier">
        <a>
          <m-icon iconId="add"></m-icon>
          <ng-container i18n="@@CHANNELS_SHOP_MEMBERSHIPS_NEW_TIER"
            >Create New</ng-container
          >
        </a>
      </div>
    </ng-container>

    <ng-template #consumerHeader>
      <div class="m-channelShopMemberships__currencyToggle">
        <span i18n="@@COMMON_USD">USD</span>
        <span
          ><m-toggle
            [mModel]="currencyFilter$ | async"
            (mModelChange)="currencyFilter$.next($event)"
            leftValue="usd"
            rightValue="tokens"
          ></m-toggle
        ></span>
        <span i18n="@@COMMON_TOKENS">Tokens</span>
      </div>
    </ng-template>
  </div>

  <div class="m-channelShopMemberships__supportTiers">
    <m-channelShopMemberships__supportTier
      *ngFor="let supportTier of supportTiers.list$ | async"
      class="m-channelShopMemberships__supportTier"
      [supportTier]="supportTier"
      [isOwner]="channel.isOwner$ | async"
      [displayCurrency]="currencyFilter$ | async"
      (onSelectIntent)="select($event)"
      (onEditIntent)="edit($event)"
      (onDeleteIntent)="delete($event)"
    ></m-channelShopMemberships__supportTier>
  </div>
</div>
