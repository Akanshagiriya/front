<div *ngIf="isLoggedIn">
  <ng-container *ngIf="!inProgress; else inProgressSpinner">
    <button
      [hidden]="true"
      *ngIf="!active"
      class="mdl-button mdl-button--colored mdl-color--green"
      [disabled]="inProgress || criticalError"
      (click)="enable()"
    >
      Become Pro
    </button>

    <button
      *ngIf="active"
      class="mdl-button mdl-button--colored mdl-color--red"
      [disabled]="inProgress || criticalError"
      (click)="disable()"
    >
      Cancel Pro
    </button>

    <span *ngIf="error" class="m-pro-subscription--error">
      {{ error }}
    </span>
  </ng-container>

  <ng-template #inProgressSpinner>
    <div class="m-pro-subscription--in-progress">
      <div class="mdl-spinner mdl-js-spinner is-active" [mdl]></div>
    </div>
  </ng-template>
</div>
