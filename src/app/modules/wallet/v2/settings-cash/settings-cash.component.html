<div class="mdl-spinner mdl-js-spinner is-active" [mdl] *ngIf="!loaded"></div>
<div class="m-walletSettings" *ngIf="loaded">
  <h4>Bank Information</h4>
  <p>Add your bank account details where rewards are deposited.</p>
  <ng-container *ngIf="!account">
    <div class="m-walletSettingsView--addAccount">
      <m-shadowboxSubmitButton (click)="editBank()" [disabled]="inProgress"
        >Add your bank details</m-shadowboxSubmitButton
      >
    </div>
  </ng-container>
  <ng-container *ngIf="account">
    <div class="m-walletSettingsView--accountSplash" *ngIf="!editingBank">
      <div class="m-walletSettingsView--accountSplash__bankPreviewWrapper">
        <span>
          {{ payoutMethod.account.bank_name }}
        </span>
        <span>****{{ payoutMethod.account.last4 }}</span>
      </div>
      <div class="m-walletSettingsView--accountSplash__linkContainer">
        <a (click)="editBank()">Update</a>
        <a (click)="removeBank()">Remove</a>
      </div>
    </div>
    <div>
      <h4>Leave Monetization Program</h4>
      <p>
        For security reasons, you won't be able to rejoin the monetization
        program.
      </p>
      <m-shadowboxSubmitButton color="red" (click)="showModal = true"
        >Leave Monetization Program</m-shadowboxSubmitButton
      >
    </div>
    <!-- <div class="m-walletSettingsView--editingBank" *ngIf="editingBank"></div> -->
  </ng-container>

  <m-walletModal [showModal]="showModal" (closeModal)="showModal = false">
    <p>
      Are you sure you want to leave the monetization program? You won't be able
      to rejoin again.
    </p>
    <div class="m-walletSettings--cash__leaveModalButtons">
      <m-shadowboxSubmitButton color="grey" (click)="showModal = false"
        >Cancel</m-shadowboxSubmitButton
      >
      <m-shadowboxSubmitButton color="red" (click)="leaveMonetization()"
        >I'm sure</m-shadowboxSubmitButton
      >
    </div>
  </m-walletModal>
</div>
