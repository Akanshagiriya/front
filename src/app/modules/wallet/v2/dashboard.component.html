<m-pageLayout [menu]="menu">
  <div class="m-walletDashboard" m-pageLayout__main *ngIf="currencies">
    <m-dashboardLayout>
      <ng-container m-dashboardLayout__header>
        <div>
          <h3>
            Your Wallet
          </h3>
        </div>
      </ng-container>

      <ng-container m-dashboardLayout__body>
        <m-shadowboxLayout>
          <m-shadowboxHeader__tabs
            class="m-shadowboxLayout__header"
            [tabs]="currencies"
            [activeTabId]="activeCurrencyId"
            (tabChanged)="updateCurrency($event)"
          ></m-shadowboxHeader__tabs>

          <div class="m-shadowboxLayout__body">
            <m-walletBalance class="m-shadowboxLayout__body"></m-walletBalance>
            <div class="m-walletDashboardViews__wrapper">
              <div class="m-walletDashboardViews__tabsContainer">
                <div
                  class="m-walletDashboardViews__tab"
                  [ngClass]="{ active: view.id === activeViewId }"
                  *ngFor="let view of views[activeCurrencyId]"
                  (click)="updateView(view.id)"
                >
                  {{ view.label }}
                </div>
              </div>
              <div class="m-walletDashboardViews__viewsContainer">
                <!-- <div class="m-walletDashboard__spinnerContainer" *ngIf="loading">
                <div class="mdl-spinner mdl-js-spinner is-active" [mdl]></div>
              </div> -->
                <m-walletChart
                  class="m-walletDashboardViews__view"
                  *ngIf="
                    activeCurrencyId === 'tokens' && activeViewId === 'overview'
                  "
                ></m-walletChart>
                <m-walletTransactionsTable
                  class="m-walletDashboardViews__view"
                  *ngIf="activeViewId === 'transactions'"
                ></m-walletTransactionsTable>
                <ng-container *ngIf="activeViewId === 'settings'">
                  <m-walletSettings--tokens
                    class="m-walletDashboardViews__view"
                    *ngIf="activeCurrencyId === 'tokens'"
                  ></m-walletSettings--tokens>
                  <m-walletSettings--usd
                    class="m-walletDashboardViews__view"
                    *ngIf="activeCurrencyId === 'usd'"
                  ></m-walletSettings--usd>
                  <m-walletSettings--eth
                    class="m-walletDashboardViews__view"
                    *ngIf="activeCurrencyId === 'eth'"
                  ></m-walletSettings--eth>
                  <m-walletSettings--btc
                    class="m-walletDashboardViews__view"
                    *ngIf="activeCurrencyId === 'btc'"
                  ></m-walletSettings--btc>
                </ng-container>
              </div>
            </div>
          </div>
        </m-shadowboxLayout>
      </ng-container>
    </m-dashboardLayout>
  </div>
</m-pageLayout>
