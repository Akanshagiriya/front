<div class="tableWrapper">
  <div class="header row">
    <div
      *ngFor="let col of visualisation.columns; let first = first"
      [ngClass]="{
        first: first
      }"
      class="col"
    >
      {{ col.label }}
    </div>
  </div>
  <div class="body">
    <!-- TODO: make some sort of a map thing to make the entity fields have the same name for different entity types. Currently only made it to 'work' with fake image and fake blog but even those are streching it -->
    <ng-container *ngFor="let row of reformattedBuckets">
      <div class="row">
        <div class="entity col">
          <div class="entityTitle">
            <a [routerLink]="'/' + row.entity.route">{{ row.entity.title }}</a
            ><i class="material-icons">open_in_new</i>
          </div>
          <div class="entityDetails">
            <a [routerLink]="'/' + row.entity.ownerObj.guid">{{
              row.entity.ownerObj.name
            }}</a>
            <span>{{ row.entity.subtype | titlecase }}</span>
            <span>Published {{ row.entity.time_created * 1000 | date }}</span>
          </div>
        </div>
        <ng-container *ngFor="let value of row.values">
          <div class="col">{{ value }}</div>
        </ng-container>
      </div>
    </ng-container>
  </div>
</div>

<!-- <ng-template #entityCol>

</ng-template> -->
