<div class="page" *ngIf="vm$ | async as vm" [ngClass]="{ isMobile: isMobile }">
  <section class="sidebar">
    <h3>Analytics</h3>
    <div *ngIf="isMobile">{{ vm.category }}</div>
    <div class="catContainer">
      <i class="material-icons">menu</i>
      <div class="cat" *ngFor="let cat of cats">
        <span [ngClass]="{ selected: cat.id === vm.category }">{{
          cat?.label
        }}</span>
      </div>
    </div>
  </section>
  <section class="main" *ngIf="(ready$ | async)">
    <div class="mainHeader">
      <h3 class="selectedCatLabel">
        {{ selectedCat?.label }}
      </h3>
      <div class="globalFilters">
        <div class="channelSearch">
          (todo: Channel search)
          <!-- <input
            type="text"
            [formControl]="channelSearch"
            placeholder="Search for a channel"
          /> -->
        </div>
        <!-- <div class="timespanFilter">
          <m-analytics__filter [filter]="timespanFilter"></m-analytics__filter>
        </div> -->
      </div>
    </div>
    <m-analytics__layout--chart
      class="m-analytics__layout"
    ></m-analytics__layout--chart>
    <!-- <m-analytics__layout--table
      class="m-analytics__layout"
      *ngIf="selectedCat?.type === 'table'"
    ></m-analytics__layout--table>
    <m-analytics__layout--summary
      class="m-analytics__layout"
      *ngIf="selectedCat?.type === 'summary'"
    ></m-analytics__layout--summary> -->
  </section>
</div>
