<div class="m-composer__titleBar">
  <div class="m-composerTitleBar__title">
    <label [for]="id" i18n>Compose</label>
  </div>

  <m-dropdownMenu
    [menu]="menu"
    [hover]="false"
    triggerClass="m-composerTitleBar__menuButton"
    menuClass="m-composerTitleBar__menu"
  >
    <m-icon iconId="more_vert"></m-icon>
  </m-dropdownMenu>
</div>

<ng-template #menu>
  <ul>
    <li>
      <m-dropdownMenu
        [menu]="visibilityMenu"
        triggerClass="m-dropdownMenu__item"
      >
        <span>Visibility</span>
        <m-icon iconId="chevron_right"></m-icon>
      </m-dropdownMenu>
    </li>

    <li>
      <m-dropdownMenu [menu]="licenseMenu" triggerClass="m-dropdownMenu__item">
        <span>License</span>
        <m-icon iconId="chevron_right"></m-icon>
      </m-dropdownMenu>
    </li>
  </ul>
</ng-template>

<ng-template #visibilityMenu>
  <ul>
    <li
      *ngFor="let visibility of visibilityOptions"
      (click)="onVisibilityClick(visibility.value)"
    >
      <span class="m-dropdownMenu__item">
        <span>{{ visibility.text }}</span>
        <m-icon iconId="check"></m-icon>
      </span>
    </li>
  </ul>
</ng-template>

<ng-template #licenseMenu>
  <ul>
    <li
      *ngFor="let license of licenseOptions"
      (click)="onLicenseClick(license.value)"
    >
      <span class="m-dropdownMenu__item">
        <span>{{ license.text }}</span>
        <m-icon iconId="check"></m-icon>
      </span>
    </li>
  </ul>
</ng-template>
