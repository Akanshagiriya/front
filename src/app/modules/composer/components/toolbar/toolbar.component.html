<div class="m-composer__toolbar">
  <m-file-upload
    [hidden]="hasAttachment"
    (onSelect)="onAttachmentSelect($event)"
    wrapperClass="m-composerToolbar__item"
    accept="image/*,video/*"
    data-cy="upload-button"
    #fileUploadComponent
  >
    <m-icon
      class="m-composerToolbarItem__icon"
      from="ion"
      iconId="image"
    ></m-icon>
    <span class="m-composerToolbarItem__label" i18n>Upload</span>
  </m-file-upload>

  <a
    [hidden]="!hasAttachment"
    class="m-composerToolbar__item m-composerToolbar__item--active"
    (click)="onDeleteAttachmentClick($event)"
    data-cy="delete-attachment-button"
  >
    <m-icon
      class="m-composerToolbarItem__icon"
      iconId="delete_forever"
    ></m-icon>
    <span class="m-composerToolbarItem__label" i18n>Media</span>
  </a>

  <a
    class="m-composerToolbar__item"
    (click)="onNsfwClick($event)"
    data-cy="nsfw-button"
  >
    <m-icon class="m-composerToolbarItem__icon" iconId="explicit"></m-icon>
    <span class="m-composerToolbarItem__label" i18n>NSFW</span>
  </a>

  <a
    class="m-composerToolbar__item"
    (click)="onMonetizationClick($event)"
    data-cy="monetize-button"
  >
    <m-icon
      class="m-composerToolbarItem__icon"
      from="ion"
      iconId="cash"
    ></m-icon>
    <span class="m-composerToolbarItem__label" i18n>Monetize</span>
  </a>

  <a
    class="m-composerToolbar__item"
    (click)="onTagsClick($event)"
    data-cy="tags-button"
  >
    <m-icon
      class="m-composerToolbarItem__icon"
      from="ion"
      iconId="pound"
    ></m-icon>
    <span class="m-composerToolbarItem__label" i18n>Tags</span>
  </a>

  <m-button
    class="m-composerToolbar__item m-composerToolbarItem--action m-composerToolbarItem--container"
    [disabled]="inProgress || !canPost"
    [dropdown]="postButtonDropdown"
    (onAction)="onPost($event)"
    data-cy="post-button"
    i18n
  >
    Post
  </m-button>
</div>

<ng-template #postButtonDropdown>
  <ul>
    <li (click)="onSchedulerClick()">
      <span class="m-dropdownMenu__item">
        <m-icon iconId="alarm"></m-icon>
        <span i18n>Schedule Post</span>
      </span>
    </li>
  </ul>
</ng-template>
