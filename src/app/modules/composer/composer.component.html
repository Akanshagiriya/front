<div class="m-composer">
  <div class="m-composer__container">
    <div class="m-composer__titleBar">
      <div class="m-composerTitleBar__title">
        <label [for]="id" i18n>Compose</label>
      </div>

      <div class="m-composerTitleBar__menuButton">
        <i class="material-icons">more_vert</i>
      </div>
    </div>

    <m-composer__mediaPreview
      *ngIf="(inProgress$ | async) || (attachment$ | async)"
    ></m-composer__mediaPreview>

    <m-composer__progress
      [inProgress]="inProgress$ | async"
      [progress]="progress$ | async"
    ></m-composer__progress>

    <div class="m-composer__textArea">
      <textarea
        placeholder="Speak your mind"
        i18n-placeholder
        [id]="id"
        [ngModel]="message$ | async"
        (ngModelChange)="onMessageChange($event)"
      ></textarea>
    </div>

    <m-composer__toolbar
      [attachment]="attachment$ | async"
      [inProgress]="inProgress$ | async"
      (onAttachmentSelect)="onAttachmentSelect($event)"
      (onDeleteAttachment)="onDeleteAttachment()"
      (onPost)="onPost($event)"
    ></m-composer__toolbar>
  </div>
</div>
