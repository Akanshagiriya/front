<div class="m-composer" [class.m-composer--poppedOut]="poppedOut">
  <div class="m-composer__container">
    <div class="m-composer__titleBar">
      <div class="m-composerTitleBar__title">
        <label [for]="id">Compose</label>
      </div>

      <div class="m-composerTitleBar__menuButton">
        <i class="material-icons">more_vert</i>
      </div>
    </div>

    <div class="m-composer__textArea">
      <textarea
        placeholder="Speak your mind"
        i18n-placeholder
        [id]="id"
        (focus)="popOut()"
        [ngModel]="service.message$ | async"
        (ngModelChange)="service.message$.next($event)"
      ></textarea>
    </div>

    <pre>{{ service.stream$ | async | json }}</pre>

    <div class="m-composer__toolBar">
      <m-file-upload
        wrapperClass="m-composerToolbar__item"
        accept="image/*,video/*"
        (onSelect)="service.attachment$.next($event)"
      >
        <m-icon from="ion" iconId="image"></m-icon>
        <span>Upload</span>
      </m-file-upload>

      <a class="m-composerToolbar__item">
        <m-icon iconId="explicit"></m-icon>
        <span>NSFW</span>
      </a>

      <a class="m-composerToolbar__item">
        <m-icon from="ion" iconId="cash"></m-icon>
        <span>Monetize</span>
      </a>

      <a class="m-composerToolbar__item">
        <m-icon from="ion" iconId="pound"></m-icon>
        <span>Tag</span>
      </a>

      <m-button [dropdown]="postButtonDropdown" (onAction)="onPost($event)">
        Post
      </m-button>
      <ng-template #postButtonDropdown>
        <ul>
          <li></li>
        </ul>
      </ng-template>
    </div>
  </div>
</div>
