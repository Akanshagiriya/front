<ng-template #searchBar>
  <div class="m-v3-topbar__SearchBox">
    <ng-content select="[search]"></ng-content>
  </div>
</ng-template>

<div class="m-v3-topbar__Top">
  <div class="m-grid">
    <div class="m-v3topbar__leftColumn">
      <nav class="m-v3-topbar__Nav">
        <a
          class="m-v3-topbarNav__Item m-v3-topbarNavItem__Logo"
          routerLink="/"
          title="Home"
          i18n-title
          *ngIf="!isMobile; else hamburgerMenu"
        >
          <img
            [src]="cdnAssetsUrl + 'assets/logos/bulb.svg'"
            (touchstart)="touchStart()"
            (mouseenter)="mouseEnter()"
            (mouseleave)="mouseLeave()"
          />
        </a>

        <ng-template #hamburgerMenu>
          <div class="m-v3-topbarNav__Item" (click)="toggleSidebarNav()">
            <i class="material-icons">menu</i>
          </div>
        </ng-template>
      </nav>
    </div>

    <div class="m-v3Topbar__spacer" *ngIf="isMobile"></div>

    <div class="m-v3topbar__middleColumn" *ngIf="!isMobile">
      <!--      <a-->
      <!--        class="m-v3-topbar__Avatar"-->
      <!--        *ngIf="getCurrentUser()"-->
      <!--        [routerLink]="['/', getCurrentUser()?.username]"-->
      <!--        routerLinkActive="m-v3-topbar__Avatar&#45;&#45;active"-->
      <!--      >-->
      <!--        <minds-avatar-->
      <!--          [object]="getCurrentUser()"-->
      <!--          [editMode]="false"-->
      <!--        ></minds-avatar>-->
      <!--      </a>-->
      <ng-container *ngTemplateOutlet="searchBar"></ng-container>
    </div>

    <div class="m-v3topbar__rightColumn">
      <ng-container *ngIf="isMobile && getCurrentUser()">
        <ng-container *ngTemplateOutlet="searchBar"></ng-container>
      </ng-container>

      <!-- edit -->

      <!-- notifications -->

      <!-- logged in user avatar -->

      <div class="m-v3-topbar__UserMenu" *ngIf="getCurrentUser()">
        <ng-content select="[icons]"></ng-content>
      </div>
    </div>
  </div>
</div>

<div class="m-v3-topbar__Bottom">
  <a
    class="m-v3-topbarNav__Item m-v3-topbarNav__RouterNav"
    routerLink="/newsfeed/subscriptions"
    routerLinkActive="m-v3-topbarNav__Item--active"
    title="Newsfeed"
    i18n-title
    data-cy="data-minds-nav-newsfeed-button"
  >
    <i class="material-icons">home</i>
    <span class="m-v3-topbarNavItem__Text" i18n>Newsfeed</span>
  </a>

  <a
    class="m-v3-topbarNav__Item m-v3-topbarNav__RouterNav"
    routerLink="/newsfeed/global"
    routerLinkActive="m-v3-topbarNav__Item--active"
    title="Discovery"
    i18n-title
    data-cy="data-minds-nav-discovery-button"
  >
    <i class="material-icons">search</i>
    <span class="m-v3-topbarNavItem__Text" i18n>Discovery</span>
  </a>

  <a
    class="m-v3-topbarNav__Item m-v3-topbarNav__RouterNav"
    routerLink="/wallet"
    routerLinkActive="m-v3-topbarNav__Item--active"
    title="Wallet"
    i18n-title
    data-cy="data-minds-nav-wallet-button"
  >
    <i class="material-icons">account_balance</i>
    <span class="m-v3-topbarNavItem__Text" i18n>Wallet</span>
  </a>
</div>

<div class="m-v3-topbar__NotificationsToaster">
  <ng-template dynamic-host></ng-template>
</div>
