<div class="m-sidebarMenu__topbar">
  <i class="material-icons" (click)="mobileMenuExpanded = true">menu</i>
  <div class="m-sidebarMenu__topbarHeader">
    {{ cat.header.label }}
  </div>
</div>
<div
  class="m-sidebarMenu__overlay"
  [ngClass]="{ mobileMenuExpanded: mobileMenuExpanded }"
  (click)="mobileMenuExpanded = false"
></div>
<div
  class="m-sidebarMenu__sidebar"
  [ngClass]="{ mobileMenuExpanded: mobileMenuExpanded }"
>
  <a class="m-sidebarMenu__userWrapper" [routerLink]="['/', user.username]">
    <img
      class="m-sidebarMenu__userAvatar"
      [src]="minds.cdn_url + 'icon/' + user.guid + '/medium/' + user.icontime"
    />
    <div class="m-sidebarMenu__userDetails">
      <div class="m-sidebarMenu__userDetails__name">{{ user.name }}</div>
      <div class="m-sidebarMenu__userDetails__username">
        @{{ user.username }}
      </div>
      <!-- TODO: get subscriberCount and remove username -->
      <!-- <div class="m-sidebarMenu__userDetails__subscribers">
          {{ user.subscribers_count | abbr }} subscribers
        </div> -->
    </div>
  </a>
  <!-- <ng-container *ngFor="let cat of cats"> -->
  <div
    class="m-sidebarMenu__catContainer expanded"
    *ngIf="cat.header.permissionGranted"
  >
    <!-- [ngClass]="{ expanded: cat.header.expanded }"  -->

    <div class="m-sidebarMenu__header">
      <h3>{{ cat.header.label }}</h3>
      <!-- <i
        class="material-icons"
        *ngIf="cat.header.expanded && cat.links"
        (click)="cat.header.expanded = false"
        >keyboard_arrow_up</i
      > -->
      <!-- <i class="material-icons" *ngIf="!cat.header.expanded && cat.links"
        >keyboard_arrow_down</i
      > -->
      <!-- (click)="cat.header.expanded = true" -->
    </div>

    <nav class="m-sidebarMenu__linksContainer" *ngIf="cat.links">
      <div class="m-sidebarMenu__link" *ngFor="let link of cat.links">
        <a
          *ngIf="link.permissionGranted"
          (click)="mobileMenuExpanded = false"
          [routerLink]="link.path ? '/' + link.path : '../' + link.id"
          routerLinkActive="selected"
          >{{ link.label }}</a
        >
      </div>
    </nav>
  </div>
  <!-- </ng-container> -->
</div>
